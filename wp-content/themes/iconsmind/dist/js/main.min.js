"use strict";!function(){$(function(){$.each($(".drop-menu"),function(){new i($(this))}),$.each($(".message-field"),function(){new n($(this))}),$(document).on("invalid.wpcf7",function(){$(".contact-us__form").find("fieldset").removeClass("novalid"),$(".contact-us__form").find(".wpcf7-not-valid-tip").each(function(){$(this).parents("fieldset").addClass("novalid")})}),$.each($("#mc-embedded-subscribe-form"),function(){new e($(this))})});var e=function(e){var i=e,n=e.data("thank"),s=$(".promo_inner").data("action"),t="",o=function(){i.on("submit",function(){return t=$("#mce-EMAIL").val(),t.length<4?a():($("#mce-EMAIL").removeClass("mce_inline_error"),r()),!1})},a=function(){$("#mce-EMAIL").addClass("mce_inline_error")},r=function(){$.ajax({url:s,data:{EMAIL:t,action:"mchimp"},type:"POST",dataType:"json",success:function(e){"success"==e.result?(i[0].reset(),window.location.href=n):a()},error:function(){a()}})},c=function(){o()};c()},i=function(e){var i,n,s=e,t=$(".site__header__menu-btn"),o=$(".site__header"),a=(s.find(".drop-menu__inner"),s.find("#scroll-wrap")),r=!1,c=$(".site"),d=$("html"),l=$(window),h=function(){t.on({click:function(){return o.hasClass("site__header_drop-menu")?(o.removeClass("site__header_drop-menu"),c.css({height:""}),l.scrollTop(n),d.css({"overflow-y":""}),$(a).getNiceScroll().hide()):(o.addClass("site__header_drop-menu"),n=l.scrollTop(),o.removeClass("site__header_fixed-white"),setTimeout(function(){c.css({height:"100%"}),d.css({"overflow-y":"scroll"}),_(),setTimeout(function(){$(a).getNiceScroll().show(),$(a).getNiceScroll().resize()},300)},300)),!1}}),l.on({scroll:function(){r=l.scrollTop()>=o.innerHeight(),r?o.addClass("site__header_fixed-white"):o.removeClass("site__header_fixed-white")},load:function(){r?o.addClass("site__header_fixed-white"):o.removeClass("site__header_fixed-white")},DOMMouseScroll:function(e){var i=e.originalEvent.detail;if(i){var n=i>0?1:-1;u(n)}},mousewheel:function(e){var i=e.originalEvent.wheelDelta;if(i){var n=i>0?-1:1;u(n)}},touchmove:function(e){var n=e.originalEvent.touches[0].clientY;n>i?u(-1):n<i&&u(1),i=n},keydown:function(e){switch(e.which){case 32:u(1);break;case 33:u(-1);break;case 34:u(1);break;case 35:u(1);break;case 36:u(-1);break;case 38:u(-1);break;case 40:u(1);break;default:return}}})},u=function(e){e>0&&!o.hasClass("site__header_hidden")&&r&&!o.hasClass("site__header_drop-menu")&&o.addClass("site__header_hidden"),e<0&&o.hasClass("site__header_hidden")&&r&&o.removeClass("site__header_hidden")},_=function(){$(a).niceScroll({autohidemode:"false",cursorborder:"",cursorcolor:"#fff",cursorwidth:"6px",cursorborderradius:"0"})},f=function(){h()};f()},n=function(e){var i=e,n=i.find(".contact-us__form__message"),s=i.find(".message-field__text"),t=i.find(".message-field__height"),o=function(){i.on({keydown:function(){s.html(n.val()+"___"),n.css("height",s.height()+25),t.css("height",s.height())}})},a=function(){o()};a()}}();